{% extends "./layouts/base.html" %}

{% block page_title %}Pinfinity Book Hub Gallery{% endblock %}

{% block page_description %}
A gallery and preview tool for HTML5 widgets used in iBooks Author.
{% endblock %}

{% block main_content %}
<div id="hub-gallery">
	{% if error %}
	<div class="row errors">
		<p><strong>Whoops. It seems there was an error processing your widget:</strong><br>
		{{ error }}
		</p>
		<p>Please feel free to contact us regarding this problem at
			<a href="mailto:connect@pinfinity.co">connect@pinfinity.co</a>.
		</p>
	</div>
	{% endif %}

	<div class="row gallery">
		{% for entry in entries %}
		<div class="entry">
			<h4 class="header">{{ entry.name }}</h4>
			<p><a href="/hub/gallery/{{ entry.id }}/preview">Preview</a></p>
		</div>
		{% endfor %}
	</div>
	<div class="row upload-widget">
		<form action="/hub/gallery/" method="POST" enctype="multipart/form-data">
			<label for="gallery_file">Choose a .wdgt.zip file</label>
			<input id="gallery_file" name="gallery_file" type="file" />
			<label for="widget_name">Give it a name</label>
			<input type="text" id="widget_name" name="widget_name" />
			<label for="email_address">Your email address.</label>
			<input type="text" id="email_address" name="email_address" />
			<div class="form-actions">
				<button class="button" type="submit">Upload It!</button>
			</div>
		</form>
	</div>
</div>
{% endblock %}
